<%= for {_week, dates} <- weeks(assigns) do %>
  <div class="row no-gutters w-100">
    <% activities = activities_in_dates(dates, assigns) %>
    <%= render SqueezeWeb.WeeklySummaryView, "summary.html", Map.merge(assigns, %{activities: activities, dates: dates}) %>

    <%= for date <- dates do %>
      <div class="col-md p-2 calendar-date">
        <div class="pb-1 small">
          <%= date_label(date) %>
        </div>

        <%= render SqueezeWeb.CalendarActivityView, "summary.html", Map.put(assigns, :date, date) %>
      </div>
    <% end %>
  </div>
<% end %>
